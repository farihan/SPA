@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript" src="@Url.Content("~/Scripts/knockout-2.1.0.js")"></script> 
    <script type="text/javascript" src="@Url.Content("~/Scripts/knockout.simpleGrid.1.3.js")"></script> 
    <script type="text/javascript">
        var ProductsViewModel = function () {
            var self = this;

            self.itemNumber = function (index) {
                return index + 1;
            }

            self.products = new ko.observableArray();

            self.gridViewModel = new ko.simpleGrid.viewModel({
                data: self.products,
                columns: [
                     { headerText: "No.", rowText: "$root.itemNumber($index())" },
                     { headerText: "Product Name", rowText: "ProductName" },
                     { headerText: "Quantity per Unit", rowText: "QuantityPerUnit" },
                     { headerText: "Unit Price", rowText: "UnitPrice" },
                     { headerText: "Units in Stock", rowText: "UnitsInStock" },
                     { headerText: "Units on Order", rowText: "UnitsOnOrder" },
                     { headerText: "Reorder Level", rowText: "ReorderLevel" },
                     { headerText: "Discontinued", rowText: "Discontinued" }
                ],
                pageSize: 10
            });


            $.getJSON("/api/productservice/getproducts", self.products);
        }

        ko.applyBindings(new ProductsViewModel());
   </script>

}

<style type='text/css'>
    .ko-grid { margin-bottom: 1em; border: 1px solid silver; background-color:White; }
    .ko-grid th { text-align:left; background-color: Black; color:White; }
    .ko-grid td, th { padding: 0.4em; }
    .ko-grid tr:nth-child(odd) { background-color: #DDD; }
    .ko-grid-pageLinks { margin-bottom: 1em; }
    .ko-grid-pageLinks a { padding: 0.5em; }
    .ko-grid-pageLinks a.selected { background-color: Black; color: White; }
</style>

<h2>Index</h2>
<div data-bind='simpleGrid: gridViewModel'> </div>
